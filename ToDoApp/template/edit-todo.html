{% include 'layout.html' %}

<div class="container">
  <div class="card">
    <div class="card-header">
      Let's edit your todo!
    </div>

    <div class="card-body">

      <!-- UPDATE FORM -->
<form
action="/todos/todo/{{ todo.id }}/update"
method="post"
onsubmit="disableBtn(this)"
>
<!-- fields here -->

<div class="mt-3">
  <button type="submit" class="btn btn-primary">
    Save
  </button>

  <a href="/todos/todo-page" class="btn btn-success ms-2">
    Back
  </a>
</div>
</form>

<!-- DELETE FORM (SEPARATE) -->
<form
action="/todos/todo/{{ todo.id }}/delete"
method="post"
class="mt-2"
onsubmit="return confirm('Are you sure you want to delete this todo?');"
>
<button type="submit" class="btn btn-danger">
  Delete
</button>
</form>

    </div>
  </div>
</div>

<script>
function disableBtn(form) {
  const btn = form.querySelector("button[type='submit']");
  btn.disabled = true;
  btn.innerText = "Saving...";
}
</script>
